<h1>Leaderboard</h1>

<%= render 'layouts/game_type_tabs' %>


<div class="tab-content">
  <div class="tab-pane active" id="tab"> 
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th>Name</th>
          <th>Wins</th>
          <th>Losses</th>
          <th>Win %</th>
          <th>Points For</th>
          <th>Points Against</th>
        </tr>
      </thead>
      <tbody>   
        <% @players.each do |player| %>
          <tr>
            <td><%= link_to player.name, player %></td>
         	  <td class="center"><%= player.win_count %></td>
 	          <td class="center"><%= losses(player, '*') %></td>
         	  <td class="center"><%= number_with_precision(player.win_percent, :precision => 3) %></td>
         	  <td class="center"><%= player.points_for %></td>
         	  <td class="center"><%= player.points_against %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

  <% GameType.all.each do | game_type | %>
    <% @type_id = game_type.id %>
    <div class="tab-pane" id="tab<%= @type_id %>">
      <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th>Name</th>
            <th>Wins</th>
            <th>Losses</th>
            <th>Win %</th>
            <th>Points For</th>
            <th>Points Against</th>
          </tr>
        </thead>
        <tbody>  
          <% @players.each do |player| %>
            <tr>
              <td><%= link_to player.name, player %></td>
              <td class="center"><%= player.win_count %></td>
              <td class="center"><%= losses(player, game_type.id) %></td>                  
              <td class="center"><%= number_with_precision(player.win_percent, :precision => 3) %></td>
              <td class="center"><%= player.points_for %></td>
              <td class="center"><%= player.points_against %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  <% end %>
</div>

